<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet" href="portal.css">
</head>
<body style="background-color: rgba(128, 255, 0, 0.37);">
    <h1 id="pph1">PERSONAL PROFILE</h1>
    <img src="images/User Account_50px.png" alt="" width="150px" id="ppimage">
    <div id="pp">
     First Name : <input type="name" placeholder="firstname" id="firstNameInput"  class="signupinn"> <br>
        Last Name : <input type="name" placeholder="lastname" id="lastNameInput"  class="signupinn"> <br>
        Date Of Birth : <input type="date" placeholder="DDMMYY" id="dateOfBirthInput"  class="signupinn"> <br>
        Email : <input type="email" placeholder="email address" id="emailInput"  class="signupinn"> <br>
        Password : <input type="password" placeholder="password" id="passwordInput"  class="signupinn"> <br>
        Phone Number : <input type="number" placeholder="phone number" id="phoneNumInput" class="signupinn" > <br>
        Username : <input type="text" placeholder="username" id="usernameInput" class="signupinn"> <br>
         Pin : <input type="text" placeholder="pin" id="pinInput" class="signupinn"> <br>
         Account Number : <input type="text" id="accNoInput" class="signupinn"> <br> 
         Account Balance : <input type="text" id="accBalInput" class="signupinn"> <br>
        Gender : <select name="" id="select"> 
            <option value="Female">Female</option>
            <option value="Male">Male</option>
        </select> <br>
</div>
<div id="displayArea"></div>
    <script>
        
        var information = JSON.parse(localStorage.allInformations)
        var profileArray = JSON.parse(localStorage.userIndex)
        function showProfile(){
                        firstNameInput.value = information[profileArray].firstname
                        firstNameInput.disabled = true;
                        lastNameInput.value = information[profileArray].lastname
                        lastNameInput.disabled = true;
                        dateOfBirthInput.value = information[profileArray].dateOfBirth
                        dateOfBirthInput.disabled = true;
                        emailInput.value = information[profileArray].email
                        emailInput.disabled = true;
                        passwordInput.value = information[profileArray].password
                        passwordInput.disabled = true;
                        phoneNumInput.value = information[profileArray].phoneNumber
                        phoneNumInput.disabled = true;
                        usernameInput.value = information[profileArray].username
                        usernameInput.disabled = true
                        pinInput.value = information[profileArray].pin
                        pinInput.disabled = true;
                        select.value = information[profileArray].Gender
                        select.disabled = true;
                        accNoInput.value = information[profileArray].accountNumber;
                        accNoInput.disabled = true;
                        accBalInput.value = information[profileArray].balance;
                        accBalInput.disabled = true;
                        displayArea.innerHTML ="<button onclick='editFunc("+profileArray+")' id='edit' >Edit</button>" +" " + "<button onclick='delfunc("+profileArray+")'>Delete</button>" 

        //             }
        //         }
        //         }
                
        //     }
        }
        showProfile();
        function editFunc(profileArray){
            // e.target.innerHTML = ''
            firstNameInput.disabled = false;
            lastNameInput.disabled = false;
            dateOfBirthInput.disabled = false;
            emailInput.disabled = false;
            passwordInput.disabled = false;
            phoneNumInput.disabled = false;
            usernameInput.disabled = false;
            pinInput.disabled = false;
            select.disabled = false;
            edit.style.display = "none";
            displayArea.innerHTML +="<button onclick='save("+profileArray+")' id='Save' >Save</button>"
        }
        function save(profileArray){
            customer = {};
            customer.firstname = firstNameInput.value;
            customer.lastname = lastNameInput.value;
            customer.dateOfBirth = dateOfBirthInput.value;
            customer.email = emailInput.value;
            customer.password = passwordInput.value;
            customer.phoneNumber = phoneNumInput.value;
            customer.username = usernameInput.value;
            customer.pin = pinInput.value;
            customer.Gender = select.value;
            customer.accountNumber = accNoInput.value;
            customer.balance = accBalInput.value
            information.splice(profileArray, 1, customer)
            localStorage.allInformations = JSON.stringify(information);
            
            Save.style.display = "none";
            edit.style.display = "inline"
        }
        function delfunc(profileArray){
            information.splice(profileArray , 1)
     localStorage.allInformations = JSON.stringify(information)
    displayAllInfo();
        }
    </script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
</body>
</html>